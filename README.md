# Тестовое задание для "Secunda"

Создание REST API приложения.

### Функционал:

- список всех организаций находящихся в конкретном здании
- список всех организаций, которые относятся к указанному виду деятельности
- список организаций, которые находятся в заданном радиусе/прямоугольной области относительно указанной точки на карте. список зданий
- вывод информации об организации по её идентификатору
- искать организации по виду деятельности (рекурсивно)
- поиск организации по названию
- ограничить уровень вложенности деятельностей 3 уровням

**Стек**: SQLAlchemy, FastAPI, geoalchemy2, Pydantic, alembic

## Запуск приложения

Разворачивает PostgreSQL (порт 5432) и FastAPI сервер (порт 8000).

```bash
docker compose up -d
```

## Локальная разработка

Для начала работы установите зависимости, примените миграции и запустите локальный сервер.
Установка uv (менеджер пакетов)

```bash
pip install uv
```

### Настройка окружения

```bash
uv venv --python 3.13
uv sync

```

### Комманды

#### Заполнение БД тестовыми данными

```bash
uv run poe add_test_data
```

#### Запуск pre-commit hook

```bash
uv run poe lint
```

#### Запуск локального сервера

```bash
uv run poe run_server
```

#### Сгенерировать миграцию

```bash
uv run poe make_migrations
```

#### Применить миграции

```bash
uv run poe migrate
```
